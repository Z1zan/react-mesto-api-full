{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/Main.js","components/Footer.js","utils/api.js","components/Login.js","components/Register.js","components/InfoTooltip.js","components/InfoToolOk.js","images/Union.png","components/InfoToolNope.js","images/UnionNope.png","components/ProtectedRoute.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","src","logo","alt","onClick","href","url","text","userEmail","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onCardClick","card","link","name","onCardLike","type","length","onCardDelete","PopupWithForm","onSubmit","isOpen","onClose","title","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","about","e","preventDefault","onUpdateUser","value","onChange","target","id","placeholder","required","minLength","maxLength","EditAvatarPopup","avatar","setAvatar","AddPlacePopup","setLink","addCard","ImagePopup","Main","onSignOut","handleSignOut","onEditAvatar","onEditProfile","onAddPlace","cards","map","onImgCard","handleCardLike","handleCardDelete","handleUpdateAvatar","avatarPopupOpen","closeAllPopups","handleUpdateUser","editPopupOpen","handleAddPlaceSubmit","addPopupOpen","hidden","selectedCard","imgPopupOpen","Footer","api","baseUrl","this","fetch","method","credentials","then","response","ok","json","Promise","reject","status","data","headers","body","JSON","stringify","res","cardId","email","password","Login","setEmail","setPassword","onLogin","Register","onRegister","InfoTooltip","InfoToolOk","InfoToolNope","ProtectedRoute","Component","component","loggedIn","to","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","setSelectedCard","isInfoToolOkPopupOpen","setIsInfoToolOkPopupOpen","isInfoToolNopePopupOpen","setIsInfoToolNopePopupOpen","setLoggedIn","setUserEmail","handelInfoToolOk","handleInfoToolNope","infoToolOkPopupOpen","infoToolNopePopupOpen","setCurrentUser","setCards","history","useHistory","localStorage","checkValidToken","item","push","getUserInfo","catch","err","console","log","getInitialCards","Provider","path","changeLikeCardStatus","newCards","c","removeCard","filter","setUserAvatar","setUserInfo","createCardOne","setItem","login","setTimeout","registration","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.caceb0d0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.a307e1c4.svg\";","import logo from '../images/header-logo.svg';\n\n\nfunction Header(props) {\n\n  return(\n    <header className=\"header\">\n      <div className=\"header__container\">\n        <img className=\"header__logo\" src={logo} alt=\"Место Россия\" />\n        <div className=\"header__text\">\n          <a onClick={props.onClick} href={props.url} className=\"header__logout\">{props.text}</a>\n          <p className=\"header__email\">{props.userEmail}</p>\n        </div>\n        \n      </div>\n      <div className=\"header__line\" />\n    </header>\n  )\n}\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();","import {useContext} from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\n\nfunction Card(props) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  const isOwn = props.owner === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `element__trash ${isOwn ? '' : 'element__trash_hidden'}`\n  );\n\n  const isLiked = props.likes.some(i => i === currentUser._id);\n  const cardLikeButtonClassName = (\n    `element__like-btn ${isLiked ? 'element__like-btn_active' : ''} opacity`\n  );\n\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card)\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card)\n  }\n\n\n  return (\n    <div className=\"element\">\n      <img className=\"element__image\" onClick={handleClick} src={props.link} alt={props.name}/>\n      <div className=\"element__text\">\n        <p className=\"element__name\">{props.name}</p>\n        <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\"/>\n      </div>\n      <span className=\"element__like-number\">{props.likes.length}</span>\n      <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\"/>\n    </div>\n  )\n}\n\nexport default Card;\n","\nfunction PopupWithForm(props) {\n  return(\n    <form onSubmit={props.onSubmit} className={`popup popup-${props.name} popup-form ${props.isOpen}`} name={`${props.name}Popup`}>\n      <div className=\"popup__container\">\n        <button className={`popup__close-btn popup-${props.name}__close-btn opacity`} type=\"reset\" onClick={props.onClose} />\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <>{props.children}</>\n        <button className={`popup__submit-btn submit-${props.name}-btn`} type=\"submit\">Сохранить</button>\n      </div>\n      <div className={`popup__overlay overlay-${props.name}`} />\n    </form>\n  )\n}\n\nexport default PopupWithForm;","import { useState, useContext, useEffect } from 'react';\n\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\n\nfunction EditProfilePopup(props) {\n\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n\n  function handleChangeName(e) {\n    setName(e.target.value)\n  }\n  function handleChangeDescription(e) {\n    setDescription(e.target.value)\n  }\n\n\n  const currentUser = useContext(CurrentUserContext);\n\n  useEffect(() => {\n    setName(currentUser.name || '');\n    setDescription(currentUser.about || '');\n  }, [currentUser]);\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n  \n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  } \n\n\n  return (\n\n    <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} isOpen={props.isOpen} name=\"edit\" title=\"Редактировать профиль\" >\n    <div className=\"popup__form\">\n      <input value={name} onChange={handleChangeName} className=\"popup__field popup__field_name\" id=\"input-name\" type=\"text\" name=\"name\" placeholder=\"Имя\" required minLength=\"2\" maxLength=\"40\" />\n      <span className=\"popup__form-field-error\" id=\"input-name-error\">Вы пропустили это поле.</span>\n    </div>\n    <div className=\"popup__form\">\n      <input value={description} onChange={handleChangeDescription} className=\"popup__field popup__field_job\" id=\"input-job\" type=\"text\" name=\"about\" placeholder=\"Занятие\" required minLength=\"2\" maxLength=\"200\" />\n      <span className=\"popup__form-field-error\" id=\"input-job-error\">Вы пропустили это поле.</span>\n    </div>\n  </PopupWithForm>\n\n  )\n}\n\nexport default EditProfilePopup;\n\n","import { useState, useRef } from 'react';\n\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction EditAvatarPopup(props) {\n\n  const [avatar, setAvatar] = useState('');\n\n  function handleSubmit(e) {\n    e.preventDefault();\n  \n    props.setAvatar({\n      avatar,\n    });\n    setAvatar('');\n  }\n\n  function handleChange(e) {\n    setAvatar(e.target.value);\n  }\n\n  return (\n\n  <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} isOpen={props.isOpen} name=\"avatar\" title=\"Обновить аватар\">\n    <div className=\"popup__form\">\n      <input value={avatar} onChange={handleChange} className=\"popup__field popup__field_link-avatar\" id=\"input-linkAvatar\" type=\"url\" name=\"avatar\" placeholder=\"Ссылка на картинку\" required />\n      <span className=\"popup__form-field-error\" id=\"input-linkAvatar-error\">Вы пропустили это поле.</span>\n    </div>\n  </PopupWithForm>\n\n  )\n}\n\nexport default EditAvatarPopup;","import { useState, useContext } from 'react';\n\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction AddPlacePopup(props) {\n\n  const [name, setName] = useState('');\n  const [link, setLink] = useState('');\n\n  function handleAddCardName(e) {\n    setName(e.target.value)\n  }\n  function handleAddCardLink(e) {\n    setLink(e.target.value)\n  }\n\n\n  function handleSubmit(e) {\n    // Запрещаем браузеру переходить по адресу формы\n    e.preventDefault();\n  \n    // Передаём значения управляемых компонентов во внешний обработчик\n    props.addCard({\n      name: name,\n      link: link\n    });\n    setName('');\n    setLink('');\n  } \n\n\n  return(\n\n  <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} isOpen={props.isOpen} name=\"add\" title=\"Новое место\" >\n    <div className=\"popup__form\">\n      <input value={name} onChange={handleAddCardName} className=\"popup__field popup__field_name-photo\" id=\"input-photo\" type=\"text\" name=\"name\" placeholder=\"Название\" required minLength=\"2\" maxLength=\"30\" />\n      <span className=\"popup__form-field-error\" id=\"input-photo-error\">Вы пропустили это поле.</span>\n    </div>\n    <div className=\"popup__form\">\n      <input value={link} onChange={handleAddCardLink} className=\"popup__field popup__field_link-photo\" id=\"input-link\" type=\"url\" name=\"link\" placeholder=\"Ссылка на картинку\" required />\n      <span className=\"popup__form-field-error\" id=\"input-link-error\">Вы пропустили это поле.</span>\n    </div>\n  </PopupWithForm>\n\n  )\n  \n}\nexport default AddPlacePopup;","function ImagePopup(props) {\n  return(\n  <form className={`popup popup-img ${props.isOpen}`} name=\"fullImg\">\n    <div className=\"popup-img__container\">\n      <button onClick={props.onClose} className=\"popup__close-btn popup-img__close-btn opacity\" type=\"reset\" />\n      <img className=\"popup-img__img\" alt={props.card.name} src={props.card.link} />\n      <p className=\"popup-img__name\">{props.card.name}</p>\n    </div>\n    <div className=\"popup__overlay overlay-img\" />\n  </form>\n  )\n}\n\nexport default ImagePopup;","import {useContext} from 'react';\nimport Card from './Card.js';\n\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\nimport Header from './Header.js';\n\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\n\nfunction Main(props) {\n\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <>\n      <Header url=\"/\" text=\"Выйти\" onSignOut={props.handleSignOut} userEmail={props.userEmail} onClick={props.onClick}\n              text={props.text}/>\n      <main className=\"main\">\n        <div className=\"profile\">\n          <div className=\"profile__container\">\n            <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"аватар\"/>\n            <div className=\"profile__avatar-overlay\" onClick={props.onEditAvatar}/>\n          </div>\n          <div className=\"profile__info\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button className=\"profile__edit-btn opacity\" type=\"button\" onClick={props.onEditProfile}/>\n            <p className=\"profile__job\">{currentUser.about}</p>\n          </div>\n          <button className=\"profile__add-btn opacity\" type=\"button\" onClick={props.onAddPlace}/>\n        </div>\n        <div className=\"elements\">\n          {props.cards.map(card => (\n            <Card\n              card={card}\n              key={card._id}\n              {...card}\n              onCardClick={props.onImgCard}\n              onCardLike={props.handleCardLike}\n              onCardDelete={props.handleCardDelete}\n            />))}\n        </div>\n      </main>\n      <EditAvatarPopup setAvatar={props.handleUpdateAvatar} isOpen={props.avatarPopupOpen}\n                       onClose={props.closeAllPopups}/>\n      <EditProfilePopup onUpdateUser={props.handleUpdateUser} isOpen={props.editPopupOpen}\n                        onClose={props.closeAllPopups}/>\n      <AddPlacePopup addCard={props.handleAddPlaceSubmit} isOpen={props.addPopupOpen} onClose={props.closeAllPopups}/>\n      <PopupWithForm name=\"del\" title=\"Вы уверены?\">\n        <input id=\"\" name=\"cardId\" required type=\"text\" hidden/>\n      </PopupWithForm>\n      <ImagePopup card={props.selectedCard} isOpen={props.imgPopupOpen} onClose={props.closeAllPopups}/>\n    </>\n  )\n}\n\nexport default Main;\n","function Footer() {\n  return(\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2021 Ivan Nemirich</p>\n    </footer>\n  )\n}\nexport default Footer;","class Api {\n  constructor({baseUrl}) {\n    this.baseUrl = baseUrl;\n  }\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'GET',\n      credentials: 'include',\n    })\n      .then(response => response.ok\n        ? response.json()\n        : Promise.reject(`Ошибка загрузки карточек: ${response.status}`))\n  }\n\n  createCardOne(data) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n      .then((res) =>\n        res.ok\n          ? res.json()\n          : Promise.reject(`Ошибка создания карточки: ${res.status}`)\n      )\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: \"GET\",\n      credentials: 'include',\n    })\n      .then((res) =>\n        res.ok\n          ? res.json()\n          : Promise.reject(`Ошибка получения профиля: ${res.status}`)\n      )\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n        avatar: data.avatar\n      })\n    })\n      .then((res) =>\n        res.ok\n          ? res.json()\n          : Promise.reject(`Ошибка изменения профиля: ${res.status}`)\n      )\n  }\n\n  setUserAvatar(link) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        avatar: link.avatar\n      })\n    })\n      .then((res) =>\n        res.ok\n          ? res.json()\n          : Promise.reject(`Ошибка изменения профиля: ${res.status}`)\n      )\n  }\n\n  removeCard(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\n      method: 'DELETE',\n      credentials: 'include',\n    })\n      .then((res) =>\n        res.ok\n          ? res.json()\n          : Promise.reject(`Ошибка удаления картинки: ${res.status}`)\n      )\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    if (isLiked == false) {\n      return fetch(`${this.baseUrl}/cards/${cardId}/likes`, {\n        method: \"PUT\",\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n      })\n        .then((res) =>\n          res.ok\n            ? res.json()\n            : Promise.reject(`Ошибка лайка карточки: ${res.status}`)\n        )\n    } else if (isLiked == true) {\n      return fetch(`${this.baseUrl}/cards/${cardId}/likes`, {\n        method: \"DELETE\",\n        credentials: 'include',\n      })\n        .then((res) =>\n          res.ok\n            ? res.json()\n            : Promise.reject(`Ошибка дизлайка карточки: ${res.status}`)\n        )\n    }\n  }\n\n\n  registration({email, password}) {\n    return fetch(`${this.baseUrl}/signup`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        password,\n        email\n      })\n    })\n      .then((res) =>\n        res.ok\n          ? res.json()\n          : Promise.reject(`Ошибка: ${res.status}`) //сделать как в брифе;\n      )\n  }\n\n  login({email, password}) {\n    return fetch(`${this.baseUrl}/signin`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        password,\n        email\n      })\n    })\n      .then((res) =>\n        res.ok\n          ? res.json()\n          : Promise.reject(`Ошибка: ${res.status}`)\n      )\n  }\n\n  checkValidToken() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: \"GET\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      credentials: 'include',\n    })\n      .then((res) =>\n        res.ok\n          ? res.json()\n          : Promise.reject(`Ошибка: ${res.status}`)\n      )\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://api.ninhao.nomoredomains.icu\",\n  // baseUrl: \"http://localhost:3001\",\n});\n\nexport default api;\n","import { useState } from 'react';\n\nfunction Login(props) {\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value)\n  }\n  function handleChangePassword(e) {\n    setPassword(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n  \n    props.onLogin({\n      email,\n      password\n    });\n  }\n\n  return(\n\n    <form onSubmit={handleSubmit} className=\"form form-login\">\n      <div className=\"form__container\">\n        <h2 className=\"form__title\">Вход</h2>\n        <div className=\"form__form\">\n          <input onChange={handleChangeEmail} className=\"form__field form__field_email\" id=\"input-email\" name=\"email\" value={email}\n              placeholder=\"Email\" required=\"\" minLength=\"2\" maxLength=\"30\" />\n            <span className=\"form__form-field-error\" id=\"input-email-error\"></span>\n        </div>\n        <div className=\"form__form\">\n          <input onChange={handleChangePassword} className=\"form__field form__field_password\" id=\"input-password\" type=\"password\" name=\"password\"\n              value={password} placeholder=\"Пароль\" required=\"\" minLength=\"8\" />\n            <span className=\"form__form-field-error\" id=\"input-link-error\"></span>\n        </div>\n        <button className=\"form__submit-btn submit-add-btn form__submit-btn_inactive\" type=\"submit\">\n          Войти\n        </button>\n      </div>\n    </form>\n\n  )\n}\nexport default Login;","import { useState } from \"react\";\n\nfunction Register(props) {\n\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  function handleChangeEmail(e) {\n    setEmail(e.target.value)\n  }\n  function handleChangePassword(e) {\n    setPassword(e.target.value)\n  }\n\n\n  function handleSubmit(e) {\n    e.preventDefault();\n  \n    props.onRegister({\n      email,\n      password\n    })\n  } \n\n  return(\n\n    <form onSubmit={handleSubmit} className=\"form form-register\">\n      <div className=\"form__container\">\n        <h2 className=\"form__title\">Регистрация</h2>\n        <div className=\"form__form\">\n          <input value={email} onChange={handleChangeEmail} className=\"form__field form__field_email\" id=\"input-email\" name=\"email\"\n              placeholder=\"Email\" required=\"\" minLength=\"2\" maxLength=\"30\" />\n            <span className=\"form__form-field-error\" id=\"input-email-error\"></span>\n        </div>\n        <div className=\"form__form\">\n          <input value={password} onChange={handleChangePassword} className=\"form__field form__field_password\" id=\"input-password\" type=\"password\" name=\"password\"\n            placeholder=\"Пароль\" required=\"\" minLength=\"8\" />\n          <span className=\"form__form-field-error\" id=\"input-link-error\"></span>\n        </div>\n        <button className=\"form__submit-btn submit-add-btn form__submit-btn_inactive\" type=\"submit\">\n          Зарегистрироваться\n        </button>\n        <a href=\"/signin\"><p className=\"form__description\">Уже зарегистрированы? Войти</p></a>\n      </div>\n    </form>\n\n  )\n}\nexport default Register;","\nfunction InfoTooltip(props) {\n\n\n  return (\n\n    <form className={`popup popup-info popup-${props.name} ${props.isOpen}`} name={`infoPopup-${props.name}`}>\n      <div className=\"popup__container\">\n        <button onClick={props.onClose} className=\"popup__close-btn popup-add__close-btn opacity\" type=\"reset\"></button>\n        <>{props.children}</>\n      </div>\n      <div className=\"popup__overlay overlay-add\"></div>\n    </form>\n\n  )\n}\n\nexport default InfoTooltip;","\nimport InfoTooltip from './InfoTooltip';\nimport okImg from '../images/Union.png';\n\nfunction InfoToolOk(props) {\n\n\n  return(\n\n    <InfoTooltip isOpen={props.isOpen} onClose={props.onClose} name=\"ok\">\n      <img className=\"popup-info__img\" src={okImg} alt=\"\" />\n      <h2 className=\"popup__title\">\n        Вы успешно <br />\n        {props.text}!\n      </h2>\n    </InfoTooltip>\n  )\n}\n\nexport default InfoToolOk;\n","export default \"data:image/png;base64,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\"","import InfoTooltip from './InfoTooltip.js'\n\nimport nopeImg from '../images/UnionNope.png'\n\nfunction InfoToolNope(props) {\n\n\n  return(\n\n    <InfoTooltip isOpen={props.isOpen} onClose={props.onClose} name=\"nope\">\n      <img className=\"popup-info__img\" src={nopeImg} alt=\"\" />\n      <h2 className=\"popup__title\">\n        Что-то пошло не так! <br />\n        Попробуйте ещё раз.\n      </h2>\n    </InfoTooltip>\n\n  )\n}\n\nexport default InfoToolNope;\n","export default \"data:image/png;base64,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\"","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nfunction ProtectedRoute ({ component: Component, ...props }) {\n  return (\n    <Route>\n      {props.loggedIn ? (<Component {...props} />) : (<Redirect to=\"./signin\" />)}\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;","import React from 'react';\nimport {useState, useEffect} from 'react';\nimport {BrowserRouter, Switch, Route, Redirect, useHistory} from 'react-router-dom';\n\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport api from '../utils/api';\n\nimport Login from './Login';\nimport Register from './Register';\nimport InfoToolOk from './InfoToolOk';\nimport InfoToolNope from './InfoToolNope';\nimport ProtectedRoute from './ProtectedRoute';\n\nimport {CurrentUserContext} from '../contexts/CurrentUserContext';\n\nfunction App() {\n\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n\n  const [isInfoToolOkPopupOpen, setIsInfoToolOkPopupOpen] = useState(false);\n  const [isInfoToolNopePopupOpen, setIsInfoToolNopePopupOpen] = useState(false);\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n\n\n  function handleCardClick(card) {\n    setIsImagePopupOpen(true);\n    setSelectedCard(card);\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handelInfoToolOk() {\n    setIsInfoToolOkPopupOpen(true);\n  }\n\n  function handleInfoToolNope() {\n    setIsInfoToolNopePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsInfoToolOkPopupOpen(false);\n    setIsInfoToolNopePopupOpen(false);\n  }\n\n\n  const avatarPopupOpen = `${isEditAvatarPopupOpen ? 'popup_opened' : ''}`;\n  const editPopupOpen = `${isEditProfilePopupOpen ? 'popup_opened' : ''}`;\n  const addPopupOpen = `${isAddPlacePopupOpen ? 'popup_opened' : ''}`;\n  const imgPopupOpen = `${isImagePopupOpen ? 'popup_opened' : ''}`;\n  const infoToolOkPopupOpen = `${isInfoToolOkPopupOpen ? 'popup_opened' : ''}`;\n  const infoToolNopePopupOpen = `${isInfoToolNopePopupOpen ? 'popup_opened' : ''}`;\n\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n\n  const history = useHistory();\n\n  function handleRegister(item) {\n    api\n      .registration(item)\n      .then((data) => {\n        handelInfoToolOk();\n        setTimeout(() => {\n          history.push(\"./signin\");\n          closeAllPopups();\n        }, 2000);\n      })\n      .catch((err) => {\n        console.log(err);\n        handleInfoToolNope();\n      })\n  }\n\n\n  function handleLogin(item) {\n    api\n      .login(item)\n      .then(() => {\n        handelInfoToolOk();\n        localStorage.setItem(\"loggedIn\", \"true\");\n        setUserEmail(item.email)\n        setLoggedIn(true);\n        setTimeout(() => {\n          history.push(\"./main\");\n          closeAllPopups();\n        }, 1500);\n      })\n      .then(() => {\n        api\n          .getUserInfo()\n          .then((data) => {\n            setCurrentUser(data);\n          })\n          .catch((err) => console.log(err))\n      })\n      .then(() => {\n        api\n          .getInitialCards()\n          .then((cards) => {\n            setCards(cards.data);\n          })\n          .catch(err => console.log(err));\n      })\n      .catch((err) => {\n        console.log(err);\n        handleInfoToolNope();\n      })\n  }\n\n  function handleSignOut() {\n    setLoggedIn(false);\n    localStorage.setItem(\"loggedIn\", \"false\");\n    setUserEmail('');\n    history.push(\"./signin\")\n  }\n\n  useEffect(() => {\n    if (localStorage.loggedIn === \"true\") {\n      api\n        .checkValidToken()\n        .then((item) => {\n          setLoggedIn(true);\n          setUserEmail(item.email);\n          history.push(\"./main\")\n        })\n        .then(() => {\n          api\n            .getUserInfo()\n            .then((data) => {\n              setCurrentUser(data);\n            })\n            .catch((err) => console.log(err))\n        })\n        .then(() => {\n          api\n            .getInitialCards()\n            .then((cards) => {\n              setCards(cards.data);\n            })\n            .catch(err => console.log(err));\n        })\n        .catch((err) => {\n          console.log(err);\n        })\n    }\n  }, [])\n\n\n  function handleUpdateUser(item) {\n    api\n      .setUserInfo(item)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .then(() => {\n        api\n          .getUserInfo()\n          .then((data) => {\n            setCurrentUser(data);\n          })\n          .catch((err) => console.log(err))\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleUpdateAvatar(item) {\n    api\n      .setUserAvatar(item)\n      .then((data) => {\n        setCurrentUser(data);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .then(() => {\n        api\n          .getUserInfo()\n          .then((data) => {\n            setCurrentUser(data);\n          })\n          .catch((err) => console.log(err))\n      })\n      .catch(err => console.log(err));\n  }\n\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i === currentUser._id);\n\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then(({data}) => {\n        // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((c) => c._id === card._id ? data : c);\n\n        // Обновляем стейт\n        setCards(newCards);\n      })\n      .catch(err => console.log(err));\n  }\n\n  function handleCardDelete(card) {\n    api\n      .removeCard(card._id)\n      .then(() => {\n        const newCards = cards.filter(c => c._id !== card._id);\n        // Обновляем стейт\n        setCards(newCards);\n      })\n      .catch(err => console.log(err));\n  }\n\n\n  function handleAddPlaceSubmit(card) {\n    console.log('card', card);\n    api\n      .createCardOne(card)\n      .then(card => {\n        console.log('inside', card);\n        setCards([card.data, ...cards]);\n      })\n      .then(() => {\n        closeAllPopups();\n      })\n      .catch(err => console.log(err));\n  }\n\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Switch>\n\n          <ProtectedRoute\n            path=\"/main\"\n            loggedIn={loggedIn}\n            component={Main}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onImgCard={handleCardClick}\n            cards={cards}\n            handleCardLike={handleCardLike}\n            handleCardDelete={handleCardDelete}\n            handleUpdateAvatar={handleUpdateAvatar}\n            avatarPopupOpen={avatarPopupOpen}\n            closeAllPopups={closeAllPopups}\n            handleUpdateUser={handleUpdateUser}\n            editPopupOpen={editPopupOpen}\n            handleAddPlaceSubmit={handleAddPlaceSubmit}\n            addPopupOpen={addPopupOpen}\n            selectedCard={selectedCard}\n            imgPopupOpen={imgPopupOpen}\n            userEmail={userEmail}\n            onClick={handleSignOut}\n            text={'Выйти'}\n          />\n\n          <Route path=\"/signin\">\n            <Header url=\"/signup\" text=\"Зарегистрироваться\"/>\n            <Login onLogin={handleLogin}/>\n            <InfoToolOk isOpen={infoToolOkPopupOpen} onClose={closeAllPopups} text={'Авторизировались'}/>\n            <InfoToolNope isOpen={infoToolNopePopupOpen} onClose={closeAllPopups}/>\n          </Route>\n\n          <Route path=\"/signup\">\n            <Header url=\"/signin\" text=\"Войти\"/>\n            <Register onRegister={handleRegister}/>\n            <InfoToolOk isOpen={infoToolOkPopupOpen} onClose={closeAllPopups} text={'Зарегистрировались'}/>\n            <InfoToolNope isOpen={infoToolNopePopupOpen} onClose={closeAllPopups}/>\n          </Route>\n\n          <Route exact path=\"/\">\n            {loggedIn ? <Redirect to=\"/main\"/> : <Redirect to=\"/signin\"/>}\n          </Route>\n\n        </Switch>\n\n        <Footer/>\n\n      </div>\n    </CurrentUserContext.Provider>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}